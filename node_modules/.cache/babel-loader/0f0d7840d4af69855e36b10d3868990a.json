{"ast":null,"code":"import _defineProperty from\"C:/Users/nguye/OneDrive/Desktop/react_fe/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/nguye/OneDrive/Desktop/react_fe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/nguye/OneDrive/Desktop/react_fe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import{Modal,Button}from\"react-bootstrap\";import axios from'axios';import\"./../../../src/assets/css/admin.css\";import\"bootstrap/dist/css/bootstrap.min.css\";import Swal from\"sweetalert2\";import Footer from\"./../../layouts/admin/Footer\";import Navbar from\"./../../layouts/admin/Navbar\";import Sidebar from\"./../../layouts/admin/Sidebar\";import Navigation from'../../layouts/admin/Navigation';import Loading from'../../layouts/admin/Loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Users(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];// loading\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),users=_useState4[0],setUsers=_useState4[1];// danh sách user\nvar _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),pagination=_useState6[0],setPagination=_useState6[1];// phân trang\nvar _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),checkedStatus=_useState8[0],setCheckedStatus=_useState8[1];//Check status user form\nvar _useState9=useState('Thêm mới user'),_useState10=_slicedToArray(_useState9,2),titleForm=_useState10[0],setTitleForm=_useState10[1];//Tiêu đề form\nvar _useState11=useState(true),_useState12=_slicedToArray(_useState11,2),isResearch=_useState12[0],setIsResearch=_useState12[1];// check xem có đang tìm kiếm k\n// var isResearch = false;\nvar _useState13=useState({name:'',email:'',group_role:'',is_active:''}),_useState14=_slicedToArray(_useState13,2),inputSearch=_useState14[0],setInputSearch=_useState14[1];//Form search\nvar _useState15=useState({id:'',name:'',email:'',password:'',password_confirm:'',group_role:'',error_list:[]}),_useState16=_slicedToArray(_useState15,2),user=_useState16[0],setUser=_useState16[1];//form tạo / sửa user\n//input search\nvar handleInputSearch=function handleInputSearch(e){setInputSearch(_objectSpread(_objectSpread({},inputSearch),{},_defineProperty({},e.target.name,e.target.value)));};//status rong form sửa /thêm user\nvar handleClickStatus=function handleClickStatus(){return setCheckedStatus(!checkedStatus);};//xử lí tìm kiếm\nvar submitSearch=function submitSearch(e){e.preventDefault();filterData();};var handleKeyDown=function handleKeyDown(e){if(e.key==='Enter'){e.preventDefault();filterData();}};//Xóa tìm kiếm\nvar handleDeleteSearch=function handleDeleteSearch(){setIsResearch(false);setInputSearch({name:'',email:'',group_role:'',is_active:''});document.getElementById(\"SEARCH-FORM\").reset();reloadPage(numPage);};//Filter\nvar filterData=function filterData(){setIsResearch(true);loadPage(1);};//Phân trang \nvar numPage;// Số trang hiện tại\nvar callBackChildren=function callBackChildren(num){numPage=num;loadPage(numPage);};//input form user\nvar handleInput=function handleInput(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};// Xóa USER\nvar deleteHandler=function deleteHandler(email,id){Swal.fire({title:'Xác nhận xóa',text:\"Bạn có chắc chắn xóa tài khoản \"+email+\" không?\",icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'Xác nhận!',cancelButtonText:'Hủy'}).then(function(result){if(result.isConfirmed){axios.post(\"api/users/\".concat(id,\"/delete\")).then(function(res){if(res.data.status===200){Swal.fire('Xóa!',res.data.message,'success');loadPage(numPage);}else if(res.data.status===404){loadPage(numPage);Swal.fire('Xóa!',res.data.message,'error');}});}});};//Tìm kiếm\nvar research=function research(numPage){var formData=new FormData();formData.append('name',inputSearch.name);formData.append('email',inputSearch.email);formData.append('is_active',inputSearch.is_active);formData.append('group_role',inputSearch.group_role);setLoading(true);axios.post(\"api/users/search?page=\".concat(numPage),formData).then(function(res){if(res.data.status===200){setUsers(res.data.users.data);setPagination({current_page:res.data.users.current_page,last_page:res.data.users.last_page,to:res.data.users.to,total:res.data.users.total,from:res.data.users.from});setLoading(false);}else{Swal.fire('Tìm kiếm',res.data.message,'error');setLoading(false);}});};var reloadPage=function reloadPage(numPage){setLoading(true);axios.get(\"/api/users?page=\".concat(numPage)).then(function(res){if(res.data.status===200){setUsers(res.data.users.data);setPagination({current_page:res.data.users.current_page,last_page:res.data.users.last_page,to:res.data.users.to,total:res.data.users.total,from:res.data.users.from});setLoading(false);}else{setLoading(true);}});};// Lấy dữ liệu\nvar loadPage=function loadPage(numPage){if(!isResearch){reloadPage(numPage);}else{research(numPage);}};//Call api sau khi load trang\nuseEffect(function(){loadPage(numPage);},[]);// Khóa Tài khoản\nvar unAcitveHandler=function unAcitveHandler(email,id){Swal.fire({title:'Khóa tài khoản',text:\"Bạn có chắc chắn khóa tài khoản \"+email+\" không?\",icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'Xác nhận!',cancelButtonText:'Hủy'}).then(function(result){if(result.isConfirmed){axios.post(\"api/users/\".concat(id,\"/active\")).then(function(res){if(res.data.status===200){Swal.fire('Khóa!',res.data.message,'success');loadPage(numPage);}else if(res.data.status===404||res.data.status===500){Swal.fire('Khóa!',res.data.message,'error');}});}});};//Mở khóa tài khoản\nvar acitveHandler=function acitveHandler(email,id){Swal.fire({title:'Mở Khóa tài khoản',text:\"Bạn có chắc chắn mở khóa tài khoản \"+email+\" không?\",icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'Xác nhận!',cancelButtonText:'Hủy'}).then(function(result){if(result.isConfirmed){axios.post(\"api/users/\".concat(id,\"/active\")).then(function(res){if(res.data.status===200){Swal.fire('Mở Khóa!',res.data.message,'success');loadPage(numPage);}else if(res.data.status===404||res.data.status===500){Swal.fire('Mở Khóa!',res.data.message,'error');}});}});};//RENDER\nvar tableHTML=\"\";if(loading){tableHTML=/*#__PURE__*/_jsx(\"td\",{colSpan:6,children:/*#__PURE__*/_jsx(Loading,{})});}else{//Kiem tra xem có user nào k\nif(users.length>0){var numberUser=pagination.current_page*10;tableHTML=users===null||users===void 0?void 0:users.map(function(user,idx){var numUser=idx+1+numberUser-10;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:numUser}),/*#__PURE__*/_jsx(\"td\",{children:user.name}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{children:user.group_role}),/*#__PURE__*/_jsx(\"td\",{children:user.is_active===1?/*#__PURE__*/_jsx(\"span\",{className:\"text-success\",children:\"Ho\\u1EA1t \\u0111\\u1ED9ng\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"T\\u1EA1m kh\\xF3a\"})}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon_btn\",onClick:function onClick(){return handleShow(user.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-pencil\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"icon_btn\",onClick:function onClick(){return deleteHandler(user.email,user.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-trash\"})}),user.is_active===1?/*#__PURE__*/_jsx(\"span\",{className:\"icon_btn\",onClick:function onClick(){return unAcitveHandler(user.email,user.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user-check\"})}):/*#__PURE__*/_jsx(\"span\",{className:\"icon_btn\",onClick:function onClick(){return acitveHandler(user.email,user.id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-user-xmark\"})})]})]},idx);});}else{tableHTML=/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:6,children:\"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u\"}),\" \"]});}}// RESET DATA\nvar resetInput=function resetInput(){setUser({id:'',name:'',email:'',password:'',password_confirm:'',group_role:'',error_list:[]});setCheckedStatus(false);// document.getElementById('USER_FORM').reset()\n};//Tạo mới user\nvar submitUser=function submitUser(e){e.preventDefault();var data={email:user.email,name:user.name,password:user.password,password_confirm:user.password_confirm,group_role:user.group_role,is_active:checkedStatus};axios.post(\"/api/users/store\",data).then(function(res){if(res.data.status===200){handleDeleteSearch();Swal.fire('Thêm mới',res.data.message,'success');setShow(false);}else if(res.data.status===500){Swal.fire('Thêm mới',res.data.message,'success');}else{setUser(_objectSpread(_objectSpread({},user),{},{error_list:res.data.validation_errors}));}});};//cập nhật người dùng\nvar submitUpdateUser=function submitUpdateUser(e){e.preventDefault();var data={email:user.email,name:user.name,group_role:user.group_role,is_active:checkedStatus};axios.post(\"/api/users/\".concat(user.id,\"/update\"),data).then(function(res){if(res.data.status===200){Swal.fire('Cập nhật',res.data.message,'success');resetInput();setShow(false);loadPage(numPage);}else if(res.data.status===404||res.data.status===500){loadPage(numPage);setShow(false);Swal.fire('Cập nhật',res.data.message,'error');}else{setUser(_objectSpread(_objectSpread({},user),{},{error_list:res.data.validation_errors}));}});};//Đóng mở modal\nvar _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),show=_useState18[0],setShow=_useState18[1];var handleClose=function handleClose(){resetInput();setShow(false);};//show modal\nvar handleShow=function handleShow(id){// resetInput()\nif(Number.isInteger(id)){axios.get(\"/api/users/\".concat(id)).then(function(res){console.log(res.data);if(res.data.status===200){setTitleForm('Chỉnh sửa user');setUser({id:res.data.user.id,name:res.data.user.name,email:res.data.user.email,password:res.data.user.password,password_confirm:res.data.user.password,group_role:res.data.user.group_role,error_list:[]});setCheckedStatus(res.data.user.is_active);setShow(true);}else if(res.data.status===404){Swal.fire('Lỗi',res.data.message,'warning');loadPage(numPage);}});}else{resetInput();setTitleForm('Thêm mới user');setShow(true);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"sb-nav-fixed\",children:[/*#__PURE__*/_jsxs(Modal,{show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:titleForm})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"form\",{id:\"USER_FORM\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"w-100\",children:[/*#__PURE__*/_jsx(\"thead\",{}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{scope:\"row\",children:[\"T\\xEAn \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"td\",{scope:\"col\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",className:\"form-control\",value:user.name,onChange:handleInput,placeholder:\"Nh\\u1EADp h\\u1ECD t\\xEAn\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-alert\",children:user.error_list.name})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{scope:\"row\",children:[\"Email \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"td\",{scope:\"col\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",onChange:handleInput,value:user.email,className:\"form-control\",placeholder:\"Nh\\u1EADp email\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-alert\",children:user.error_list.email})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{scope:\"row\",children:[\"M\\u1EADt kh\\u1EA9u \",user.id===''?/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"}):'*']}),/*#__PURE__*/_jsxs(\"td\",{scope:\"col\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",disabled:user.id==''?'':'disabled',name:\"password\",onChange:handleInput,value:user.password,className:\"form-control\",placeholder:\"Nh\\u1EADp m\\u1EADt kh\\u1EA9u\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-alert\",children:user.error_list.password})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{scope:\"row\",children:[\"M\\u1EADt kh\\u1EA9u x\\xE1c nh\\u1EADn \",user.id===''?/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"}):'*']}),/*#__PURE__*/_jsxs(\"td\",{scope:\"col\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",disabled:user.id==''?'':'disabled',name:\"password_confirm\",value:user.password_confirm,onChange:handleInput,className:\"form-control\",placeholder:\"X\\xE1c nh\\u1EADn nh\\u1EADn m\\u1EADt kh\\u1EA9u\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-alert\",children:user.error_list.password_confirm})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{scope:\"row\",children:[\"Nh\\xF3m \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"td\",{scope:\"col\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",name:\"group_role\",onChange:handleInput,\"aria-label\":\"Default select example\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Ch\\u1ECDn nh\\xF3m\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Admin\",selected:user.group_role=='Admin'?'selected':'',children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Nh\\xE2n vi\\xEAn\",selected:user.group_role=='Nhân viên'?'selected':'',children:\"Nh\\xE2n vi\\xEAn\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Qu\\u1EA3n l\\xED\",selected:user.group_role=='Quản lí'?'selected':'',children:\"Qu\\u1EA3n l\\xED\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-alert\",children:user.error_list.group_role})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{scope:\"row\",children:\"Tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsx(\"td\",{scope:\"col\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",checked:checkedStatus,name:\"is_active\",onChange:handleClickStatus})})]})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"\\u0110\\xF3ng\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:user.id===''?submitUser:submitUpdateUser,children:\"L\\u01B0u\"})]})]})})]}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{id:\"layoutSidenav\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{id:\"layoutSidenav_content\",children:[/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4  mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-table me-1\"}),\"Danh s\\xE1ch ng\\u01B0\\u1EDDi d\\xF9ng\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-primary btn-search  m-1\",onClick:function onClick(){return handleShow();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-plus\"}),\" Th\\xEAm m\\u1EDBi\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"box-search mt-1\",children:/*#__PURE__*/_jsx(\"form\",{id:\"SEARCH-FORM\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3 mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"T\\xEAn\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:inputSearch.name,onKeyPress:handleKeyDown,className:\"form-control\",onChange:handleInputSearch,placeholder:\"Nh\\u1EADp h\\u1ECD t\\xEAn\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3 mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",value:inputSearch.email,className:\"form-control\",onChange:handleInputSearch,placeholder:\"Nh\\u1EADp email\",onKeyPress:handleKeyDown})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3  mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status\",children:\"Nh\\xF3m\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",id:\"status\",name:\"group_role\",onChange:handleInputSearch,\"aria-label\":\"Default select example\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Ch\\u1ECDn nh\\xF3m\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Admin\",children:\"Admin\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Nh\\xE2n vi\\xEAn\",children:\"Nh\\xE2n vi\\xEAn\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Qu\\u1EA3n l\\xED\",children:\"Qu\\u1EA3n l\\xED\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3  mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status\",children:\"Tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",id:\"status\",name:\"is_active\",onChange:handleInputSearch,\"aria-label\":\"Default select example\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Ch\\u1ECDn tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"\\u0110ang ho\\u1EA1t \\u0111\\u1ED9ng\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"T\\u1EA1m kh\\xF3a\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 mb-1 box-btn-search mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary btn-search  m-1\",onClick:submitSearch,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-magnifying-glass\"})}),\"\\xA0\",/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-danger btn-search  m-1\",onClick:handleDeleteSearch,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-x\"}),\" X\\xF3a t\\xECm\"]})]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-responsive\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"H\\u1ECD t\\xEAn\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Nh\\xF3m\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Thao t\\xE1c\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tableHTML})]}),/*#__PURE__*/_jsx(Navigation,{Paginate:pagination,childToParent:callBackChildren})]})]})]})})}),/*#__PURE__*/_jsx(Footer,{})]})]})]});}export default Users;","map":{"version":3,"sources":["C:/Users/nguye/OneDrive/Desktop/react_fe/src/components/admin/Users.js"],"names":["React","useState","useEffect","Modal","Button","axios","Swal","Footer","Navbar","Sidebar","Navigation","Loading","Users","loading","setLoading","users","setUsers","pagination","setPagination","checkedStatus","setCheckedStatus","titleForm","setTitleForm","isResearch","setIsResearch","name","email","group_role","is_active","inputSearch","setInputSearch","id","password","password_confirm","error_list","user","setUser","handleInputSearch","e","target","value","handleClickStatus","submitSearch","preventDefault","filterData","handleKeyDown","key","handleDeleteSearch","document","getElementById","reset","reloadPage","numPage","loadPage","callBackChildren","num","handleInput","deleteHandler","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","then","result","isConfirmed","post","res","data","status","message","research","formData","FormData","append","current_page","last_page","to","total","from","get","unAcitveHandler","acitveHandler","tableHTML","length","numberUser","map","idx","numUser","handleShow","resetInput","submitUser","setShow","validation_errors","submitUpdateUser","show","handleClose","Number","isInteger","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { Modal, Button } from \"react-bootstrap\";\nimport axios from 'axios';\n\n\nimport \"./../../../src/assets/css/admin.css\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport Swal from \"sweetalert2\";\n\nimport Footer from \"./../../layouts/admin/Footer\";\nimport Navbar from \"./../../layouts/admin/Navbar\";\nimport Sidebar from \"./../../layouts/admin/Sidebar\";\nimport Navigation from '../../layouts/admin/Navigation';\nimport Loading from '../../layouts/admin/Loading';\n\nfunction Users() {\n\n    const [loading, setLoading] = useState(true); // loading\n    const [users, setUsers] = useState([]); // danh sách user\n    const [pagination, setPagination] = useState({}); // phân trang\n    const [checkedStatus, setCheckedStatus] = useState(false) //Check status user form\n    const [titleForm, setTitleForm] = useState('Thêm mới user') //Tiêu đề form\n    const [isResearch, setIsResearch] = useState(true) // check xem có đang tìm kiếm k\n    // var isResearch = false;\n    const [inputSearch, setInputSearch] = useState({\n        name:  '',\n        email:  '',\n        group_role: '',\n        is_active:  '',\n    }) //Form search\n\n    const [user, setUser] = useState({\n        id: '',\n        name:  '',\n        email:  '',\n        password: '',\n        password_confirm: '',\n        group_role: '',\n        error_list: []\n    }); //form tạo / sửa user\n\n    //input search\n    const handleInputSearch = (e) => {\n        setInputSearch({ ...inputSearch, [e.target.name]: e.target.value })\n    }\n\n    //status rong form sửa /thêm user\n    const handleClickStatus = () => setCheckedStatus(!checkedStatus)\n\n    //xử lí tìm kiếm\n    const submitSearch = (e) => {\n        e.preventDefault()\n        filterData()\n    }\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n            e.preventDefault()\n            filterData()\n        }\n    }\n    //Xóa tìm kiếm\n    const handleDeleteSearch = () => {\n        setIsResearch(false)\n        setInputSearch({\n            name:  '',\n            email:  '',\n            group_role: '',\n            is_active:  '',\n        })\n        document.getElementById(\"SEARCH-FORM\").reset();\n        reloadPage(numPage)\n    }\n\n    //Filter\n    const filterData = () => {\n        setIsResearch(true)\n        loadPage(1)\n    }\n\n    //Phân trang \n    var numPage; // Số trang hiện tại\n    const callBackChildren = (num) => {\n        numPage = num\n        loadPage(numPage)\n    }\n   \n    //input form user\n    const handleInput = (e) => {\n        setUser({ ...user, [e.target.name]: e.target.value })\n    }\n\n    // Xóa USER\n    const deleteHandler = (email, id) => {\n\n        Swal.fire({\n            title: 'Xác nhận xóa',\n            text: \"Bạn có chắc chắn xóa tài khoản \" + email + \" không?\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Xác nhận!',\n            cancelButtonText: 'Hủy'\n        }).then((result) => {\n            if (result.isConfirmed) {\n\n                axios.post(`api/users/${id}/delete`).then(res => {\n                    if (res.data.status === 200) {\n                        Swal.fire('Xóa!', res.data.message, 'success')\n                        loadPage(numPage)\n                    }\n                    else if (res.data.status === 404) {\n                        loadPage(numPage)\n                        Swal.fire('Xóa!', res.data.message, 'error')\n                    }\n                });\n\n            }\n        })\n    }\n\n    //Tìm kiếm\n    const research = (numPage) => {\n\n        const formData = new FormData();\n        formData.append('name', inputSearch.name);\n        formData.append('email', inputSearch.email);\n        formData.append('is_active', inputSearch.is_active);\n        formData.append('group_role', inputSearch.group_role);\n\n        setLoading(true);\n        axios.post(`api/users/search?page=${numPage}`, formData).then(res => {\n            if (res.data.status === 200) {\n                setUsers(res.data.users.data)\n                setPagination({\n                    current_page: res.data.users.current_page,\n                    last_page: res.data.users.last_page,\n                    to: res.data.users.to,\n                    total: res.data.users.total,\n                    from: res.data.users.from\n                })\n                setLoading(false);\n            }\n            else {\n                Swal.fire('Tìm kiếm', res.data.message, 'error')\n                setLoading(false);\n            }\n        });\n    }\n\n    const reloadPage = (numPage) => {\n        setLoading(true);\n        axios.get(`/api/users?page=${numPage}`).then(res => {\n            if (res.data.status === 200) {\n                setUsers(res.data.users.data)\n                setPagination({\n                    current_page: res.data.users.current_page,\n                    last_page: res.data.users.last_page,\n                    to: res.data.users.to,\n                    total: res.data.users.total,\n                    from: res.data.users.from\n                })\n                setLoading(false);\n            }\n            else {\n                setLoading(true);\n            }\n        });\n    }\n    // Lấy dữ liệu\n    const loadPage = (numPage) => {\n\n\n        if(!isResearch) {\n            reloadPage(numPage)\n        }\n        else{\n            research(numPage)\n        }\n    }\n\n    //Call api sau khi load trang\n    useEffect(() => {\n\n        loadPage(numPage)\n\n    }, []);\n\n    // Khóa Tài khoản\n    const unAcitveHandler = (email, id) => {\n\n        Swal.fire({\n            title: 'Khóa tài khoản',\n            text: \"Bạn có chắc chắn khóa tài khoản \" + email + \" không?\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Xác nhận!',\n            cancelButtonText: 'Hủy'\n        }).then((result) => {\n            if (result.isConfirmed) {\n\n                axios.post(`api/users/${id}/active`).then(res => {\n                    if (res.data.status === 200) {\n                        Swal.fire('Khóa!', res.data.message, 'success')\n                        loadPage(numPage)\n                    }\n                    else if (res.data.status === 404 || res.data.status === 500) {\n                        Swal.fire('Khóa!', res.data.message, 'error')\n                    }\n                });\n\n            }\n        })\n    }\n\n    //Mở khóa tài khoản\n    const acitveHandler = (email, id) => {\n\n        Swal.fire({\n            title: 'Mở Khóa tài khoản',\n            text: \"Bạn có chắc chắn mở khóa tài khoản \" + email + \" không?\",\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Xác nhận!',\n            cancelButtonText: 'Hủy'\n        }).then((result) => {\n            if (result.isConfirmed) {\n\n                axios.post(`api/users/${id}/active`).then(res => {\n                    if (res.data.status === 200) {\n                        Swal.fire('Mở Khóa!', res.data.message, 'success')\n                        loadPage(numPage)\n                    }\n                    else if (res.data.status === 404 || res.data.status === 500) {\n                        Swal.fire('Mở Khóa!', res.data.message, 'error')\n                    }\n                });\n\n            }\n        })\n    }\n\n    //RENDER\n    var tableHTML = \"\"\n    if(loading){\n        tableHTML =  (\n            <td colSpan={6}>\n                <Loading />\n            </td>\n        )\n    }\n    else{\n        //Kiem tra xem có user nào k\n        if(users.length > 0) {\n             \n            let numberUser = pagination.current_page * 10;\n            tableHTML = \n             users?.map((user, idx) => {\n\n                let numUser = idx + 1 + numberUser - 10 ;\n                return (\n                    <tr key={idx}>\n                        <td>{numUser}</td>\n                        <td>{user.name}</td>\n                        <td>{user.email}</td>\n                        <td>{user.group_role}</td>\n                        <td>{user.is_active === 1 ? <span className='text-success'>Hoạt động</span> :\n                            <span className='text-danger'>Tạm khóa</span>}</td>\n                        <td className=\"text-center\">\n                            <span className='icon_btn' onClick={() => handleShow(user.id)}>\n                                <i className=\"fa-solid fa-pencil\"></i>\n                            </span>\n                            <span className='icon_btn' onClick={() => deleteHandler(user.email, user.id)}>\n                                <i className=\"fa-solid fa-trash\"></i>\n                            </span>\n                            {user.is_active === 1 ?\n                                <span className='icon_btn' onClick={() => unAcitveHandler(user.email, user.id)}>\n                                    <i className=\"fa-solid fa-user-check\"></i>\n                                </span>\n                                :\n                                <span className='icon_btn' onClick={() => acitveHandler(user.email, user.id)}>\n                                    <i className=\"fa-solid fa-user-xmark\"></i>\n                                </span>\n                            }\n                        </td>\n                    </tr>\n                );\n               \n            })\n        }\n        else {\n            tableHTML = (\n                <tr ><td colSpan={6}>Không có dữ liệu</td> </tr>\n            )\n        }\n\n    }\n\n\n    \n    // RESET DATA\n    const resetInput = () => {\n        setUser({\n            id:  '',\n            name:  '',\n            email:  '',\n            password: '',\n            password_confirm: '',\n            group_role: '',\n            error_list: [] \n        })\n        setCheckedStatus(false)\n        // document.getElementById('USER_FORM').reset()\n    }\n\n        //Tạo mới user\n    const submitUser = (e) => {\n        e.preventDefault()\n        const data = {\n            email: user.email,\n            name: user.name,\n            password: user.password,\n            password_confirm: user.password_confirm,\n            group_role: user.group_role,\n            is_active: checkedStatus,\n        }\n\n        axios.post(`/api/users/store`, data).then(res => {\n            if(res.data.status === 200){\n                handleDeleteSearch()\n                Swal.fire('Thêm mới', res.data.message, 'success')\n                setShow(false)\n            }\n            else if(res.data.status === 500){\n\n                Swal.fire('Thêm mới', res.data.message, 'success')\n            }\n            else{\n\n                setUser({...user, error_list: res.data.validation_errors})\n            }\n        }); \n\n    }\n\n    //cập nhật người dùng\n    const submitUpdateUser = (e) => {\n\n        e.preventDefault()\n        const data = {\n            email: user.email,\n            name: user.name,\n            group_role: user.group_role,\n            is_active: checkedStatus,\n        }\n        \n        axios.post(`/api/users/${user.id}/update`, data).then(res => {\n            if(res.data.status === 200){\n                Swal.fire('Cập nhật', res.data.message, 'success')\n                resetInput()\n                setShow(false)\n                loadPage(numPage)\n            }\n            else if(res.data.status === 404 || res.data.status === 500){\n                loadPage(numPage)\n                setShow(false)\n                Swal.fire('Cập nhật', res.data.message, 'error')\n            }\n            else{\n                setUser({...user, error_list: res.data.validation_errors})\n            }\n        }); \n\n    }\n    \n    //Đóng mở modal\n    const [show, setShow] = useState(false);\n    const handleClose = () => {\n        resetInput()\n        setShow(false)\n    };\n    \n    //show modal\n    const handleShow = (id) => {\n        // resetInput()\n        if(Number.isInteger(id)) {\n            axios.get(`/api/users/${id}`).then(res => {\n                console.log(res.data)\n                if(res.data.status === 200){\n                    setTitleForm('Chỉnh sửa user')\n                    setUser({\n                        id: res.data.user.id,\n                        name: res.data.user.name,\n                        email: res.data.user.email,\n                        password: res.data.user.password,\n                        password_confirm: res.data.user.password,\n                        group_role: res.data.user.group_role,\n                        error_list: []\n                    })\n                    setCheckedStatus(res.data.user.is_active)\n                    setShow(true)\n                }\n                else if(res.data.status === 404){\n                    Swal.fire('Lỗi', res.data.message, 'warning')\n                    loadPage(numPage)\n                }\n            }); \n        }\n        else{\n            resetInput()\n            setTitleForm('Thêm mới user')\n            setShow(true)\n        }\n    };\n\n    return (\n        <div className=\"sb-nav-fixed\">\n\n                <Modal show={show} onHide={handleClose}>\n                    <Modal.Header closeButton>\n                        <Modal.Title>{titleForm}</Modal.Title>\n                    </Modal.Header>\n                    <Modal.Body>\n\n                        <form id=\"USER_FORM\">\n                            <table className=\"w-100\">\n                                <thead></thead>\n                            <tbody>\n                                <tr>\n                                    <td scope=\"row\">Tên <span className='text-danger'>*</span></td>\n                                    <td scope=\"col\">\n                                        <input type=\"text\" name=\"name\" className=\"form-control\" value={user.name} \n                                        onChange={handleInput} placeholder=\"Nhập họ tên\" />\n                                        <span className=\"text-alert\">{user.error_list.name}</span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td scope=\"row\">Email <span className='text-danger'>*</span></td>\n                                    <td scope=\"col\">\n                                        <input type=\"email\" name=\"email\" onChange={handleInput} value={user.email} \n                                        className=\"form-control\" placeholder=\"Nhập email\" />\n                                        <span className=\"text-alert\">{user.error_list.email}</span>\n                                    </td>\n                                </tr>\n                                {/* {user.id === '' ? <RenderPassword /> : ''} */}\n                                <tr>\n                                    <td scope=\"row\">Mật khẩu {user.id === '' ?  <span className='text-danger'>*</span> : '*'}</td>\n                                    <td scope=\"col\">\n                                        <input type=\"password\" disabled={user.id == '' ? '' : 'disabled'}   name=\"password\" onChange={handleInput} value={user.password} \n                                        className=\"form-control\" placeholder=\"Nhập mật khẩu\" />\n                                        <span className=\"text-alert\">{user.error_list.password}</span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td scope=\"row\">Mật khẩu xác nhận {user.id === '' ?  <span className='text-danger'>*</span> : '*'}</td>\n                                    <td scope=\"col\">\n                                        <input type=\"password\" disabled={user.id == '' ? '' : 'disabled'} name=\"password_confirm\" value={user.password_confirm} \n                                        onChange={handleInput} className=\"form-control\" placeholder=\"Xác nhận nhận mật khẩu\" />\n                                        <span className=\"text-alert\">{user.error_list.password_confirm}</span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td scope=\"row\">Nhóm <span className='text-danger'>*</span></td>\n                                    <td scope=\"col\">\n                                        <select className=\"form-select\"  name=\"group_role\" onChange={handleInput}\n                                         aria-label=\"Default select example\">\n                                            <option value=\"\" >Chọn nhóm</option>\n                                            <option value=\"Admin\"  selected={user.group_role == 'Admin' ? 'selected' : ''}>Admin</option>\n                                            <option value=\"Nhân viên\" selected={user.group_role == 'Nhân viên' ? 'selected' : ''}>Nhân viên</option>\n                                            <option value=\"Quản lí\" selected={user.group_role == 'Quản lí' ? 'selected' : ''}>Quản lí</option>\n                                        </select>\n                                        <span className=\"text-alert\">{user.error_list.group_role}</span>\n                                    </td>\n                                </tr>\n                                <tr>\n                                    <td scope=\"row\">Trạng thái</td>\n                                    <td scope=\"col\">\n                                        <input className=\"form-check-input\" type=\"checkbox\" checked={checkedStatus} \n                                        name=\"is_active\" onChange={handleClickStatus} />\n                                    </td>\n                                </tr>\n                                </tbody>\n                            </table>\n                            <Modal.Footer>\n                                <Button variant=\"secondary\" onClick={handleClose}>\n                                    Đóng\n                                </Button>\n                                <Button variant=\"primary\" onClick={user.id === '' ?  submitUser : submitUpdateUser}>\n                                    Lưu\n                                </Button>\n                            </Modal.Footer>\n                        </form>\n                    </Modal.Body>\n                </Modal>\n\n\n            <Navbar />\n\n            <div id=\"layoutSidenav\">\n\n                <Sidebar />\n\n                <div id=\"layoutSidenav_content\">\n                    <main>\n                        <div className=\"container-fluid px-4\">\n                            <div className=\"card mb-4  mt-4\">\n                                <div className=\"card-header\">\n                                    <span>\n                                        <i className=\"fas fa-table me-1\"></i>\n                                        Danh sách người dùng\n                                    </span>\n                                    <button className=\"btn btn-primary btn-search  m-1\" onClick={() => handleShow()}>\n                                        <i className=\"fa-solid fa-plus\"></i> Thêm mới\n                                        </button>\n                                </div>\n                                <div className=\"card-body\">\n\n                                <div className=\"box-search mt-1\">\n                                    <form id=\"SEARCH-FORM\">\n                                        <div className=\"row p-3\">\n                                            <div className=\"col-md-3 mb-1\">\n                                                <label htmlFor=\"name\">Tên</label>\n                                                <input type=\"text\" name=\"name\" value={inputSearch.name}  onKeyPress={handleKeyDown}\n                                                className=\"form-control\"  onChange={handleInputSearch} placeholder='Nhập họ tên'/>   \n                                            </div>\n                                            <div className=\"col-md-3 mb-1\">\n                                                <label htmlFor=\"name\">Email</label> \n                                                <input type=\"text\"  name=\"email\"  value={inputSearch.email}  className=\"form-control\" \n                                                 onChange={handleInputSearch} placeholder='Nhập email' onKeyPress={handleKeyDown}/>   \n                                            </div>\n                                            <div className=\"col-md-3  mb-1\">\n                                                <label htmlFor=\"status\">Nhóm</label>\n                                                <select className=\"form-select\" id=\"status\" name=\"group_role\" onChange={handleInputSearch}\n                                                  aria-label=\"Default select example\">\n                                                <option value=\"\" >Chọn nhóm</option>\n                                                <option value=\"Admin\">Admin</option>\n                                                <option value=\"Nhân viên\">Nhân viên</option>\n                                                <option value=\"Quản lí\">Quản lí</option>\n                                                </select>\n                                            </div>\n                                            <div className=\"col-md-3  mb-1\">\n                                                <label htmlFor=\"status\">Trạng thái</label>\n                                                <select className=\"form-select\" id=\"status\" name=\"is_active\"  \n                                                onChange={handleInputSearch}  aria-label=\"Default select example\">\n                                                <option value=\"\" >Chọn trạng thái</option>\n                                                <option value=\"1\">Đang hoạt động</option>\n                                                <option value=\"0\">Tạm khóa</option>\n                                                </select>\n                                            </div>\n                                            <div className=\"col-md-12 mb-1 box-btn-search mt-4\">\n                                                <button type=\"button\"  className=\"btn btn-primary btn-search  m-1\" onClick={submitSearch}>\n                                                    <i className=\"fa-solid fa-magnifying-glass\"></i>\n                                                    </button>\n                                                &nbsp;\n                                                {/* {isResearch ? <BtnClearSearch /> : ''} */}\n                                                <button type=\"button\"  className=\"btn btn-danger btn-search  m-1\" onClick={handleDeleteSearch}>\n                                                    <i className=\"fa-solid fa-x\"></i> Xóa tìm\n                                                </button>\n                                                {/* &nbsp;\n                                                <button className=\"btn btn-primary btn-search  m-1\" onClick={() => handleShow()}>\n                                                    <i className=\"fa-solid fa-plus\"></i> Thêm mới\n                                                    </button> */}\n                                            </div>\n                                        </div>\n\n                                    </form>\n                                    </div>\n                                    <div className=\"table-responsive\">\n                                        <table className=\"table\">\n                                            <thead>\n                                                <tr>\n                                                    <th>#</th>\n                                                    <th>Họ tên</th>\n                                                    <th>Email</th>\n                                                    <th>Nhóm</th>\n                                                    <th>Trạng thái</th>\n                                                    <th className=\"text-center\">Thao tác</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                { tableHTML }\n                                            </tbody>\n                                        </table>\n                                        <Navigation Paginate={pagination}  childToParent={callBackChildren}/>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </main>\n                    <Footer />\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Users;"]},"metadata":{},"sourceType":"module"}