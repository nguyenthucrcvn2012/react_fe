{"ast":null,"code":"import _defineProperty from\"C:/Users/nguye/OneDrive/Desktop/react_fe/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/nguye/OneDrive/Desktop/react_fe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/nguye/OneDrive/Desktop/react_fe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import{useNavigate}from'react-router-dom';import\"../../assets/css/auth.css\";import Swal from'sweetalert2';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),rememberLogin=_useState2[0],setRememberLogin=_useState2[1];//Check status user form\nvar navigate=useNavigate();var _useState3=useState({email:'',password:'',remamber:'',error_list:[]}),_useState4=_slicedToArray(_useState3,2),inputLogin=_useState4[0],setLogin=_useState4[1];var handleRemember=function handleRemember(){setRememberLogin(!rememberLogin);};var handleInput=function handleInput(e){e.persist();setLogin(_objectSpread(_objectSpread({},inputLogin),{},_defineProperty({},e.target.name,e.target.value)));};var loginSubmit=function loginSubmit(e){e.preventDefault();var data={email:inputLogin.email,password:inputLogin.password,remember:rememberLogin};console.log(data);axios.get(\"/sanctum/csrf-cookie\").then(function(response){axios.post(\"/api/login\",data).then(function(res){if(res.data.status===200){console.log(res.data);// To store data\nlocalStorage.setItem('auth_username',res.data.user.name);localStorage.setItem('auth_token',res.data.user.token);Swal.fire('Đăng nhập',res.data.message,'success');navigate('/admin');}else if(res.data.status===401){Swal.fire('Đăng nhập',res.data.message,'error');}else{console.log(res.data);setLogin(_objectSpread(_objectSpread({},inputLogin),{},{error_list:res.data.validation_errors}));}});});};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container py-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"card-header login\",children:/*#__PURE__*/_jsx(\"h4\",{children:\"\\u0110\\u0103ng nh\\u1EADp\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"card-body\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:loginSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"T\\xE0i kho\\u1EA3n\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",value:inputLogin.email,onChange:handleInput,className:\"form-control\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:inputLogin.error_list.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"M\\u1EADt kh\\u1EA9u\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",value:inputLogin.password,onChange:handleInput,className:\"form-control\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:inputLogin.error_list.password})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex box-btn\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-check m-3\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",name:\"remember\",type:\"checkbox\",id:\"remember\",onClick:handleRemember}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"remember\",children:\"L\\u01B0u \\u0111\\u0103ng nh\\u1EADp\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary m-3 btn-login\",children:\"\\u0110\\u0103ng nh\\u1EADp\"})]})]})})]})})})})});}export default Login;","map":{"version":3,"sources":["C:/Users/nguye/OneDrive/Desktop/react_fe/src/components/auth/Login.js"],"names":["React","useState","useNavigate","Swal","axios","Login","rememberLogin","setRememberLogin","navigate","email","password","remamber","error_list","inputLogin","setLogin","handleRemember","handleInput","e","persist","target","name","value","loginSubmit","preventDefault","data","remember","console","log","get","then","response","post","res","status","localStorage","setItem","user","token","fire","message","validation_errors"],"mappings":"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","sourcesContent":["import React, {useState} from 'react'\nimport { useNavigate } from 'react-router-dom';\n\nimport \"../../assets/css/auth.css\";\nimport Swal from 'sweetalert2'\nimport axios from 'axios';\n\nfunction Login() {\n    const [rememberLogin, setRememberLogin] = useState(false) //Check status user form\n\n    const navigate = useNavigate();\n    const [inputLogin, setLogin] = useState({\n        email: '',\n        password: '',\n        remamber: '',\n        error_list: [],\n    });\n\n    const handleRemember = () => {\n        setRememberLogin(!rememberLogin)\n    }\n\n    const handleInput = (e) => {\n        e.persist();\n        setLogin({...inputLogin, [e.target.name]: e.target.value});\n    }\n\n    const loginSubmit = (e) => {\n        e.preventDefault()\n\n        const data = {\n            email: inputLogin.email,\n            password: inputLogin.password,\n            remember: rememberLogin,\n        };\n        console.log(data)\n        axios.get(`/sanctum/csrf-cookie`).then(response => {\n\n            axios.post(`/api/login`, data).then(res => {\n                if(res.data.status === 200)\n                    {\n                        console.log(res.data);\n                        // To store data\n                        localStorage.setItem('auth_username', res.data.user.name);\n                        localStorage.setItem('auth_token', res.data.user.token);\n\n\n\n                        Swal.fire(\n                            'Đăng nhập',\n                             res.data.message,\n                            'success'\n                        )\n                        navigate('/admin');\n                    }\n                else if(res.data.status === 401){\n                    Swal.fire(\n                        'Đăng nhập',\n                        res.data.message,\n                        'error'\n                      )\n                }\n                else{\n                    console.log(res.data);\n                    setLogin({...inputLogin, error_list: res.data.validation_errors})\n                }\n            })\n        });\n    }\n\n    return (\n        <div>\n            <div className=\"container py-5\">\n                <div className=\"row justify-content-center\">\n                    <div className=\"col-md-6\">\n                        <div className=\"card\">\n                            <div className=\"card-header login\">\n                                <h4 >Đăng nhập</h4>\n                            </div>\n                            <div className=\"card-body\">\n                                <form onSubmit={loginSubmit}>\n                                    <div className=\"mb-3\">\n                                        <label htmlFor=\"\">Tài khoản</label>\n                                        <input type=\"text\" name=\"email\" value={inputLogin.email} onChange={handleInput} className=\"form-control\" />\n                                        <span className=\"text-danger\">{inputLogin.error_list.email}</span>\n                                    </div>\n                                    <div className=\"mb-3\">\n                                        <label htmlFor=\"\">Mật khẩu</label>\n                                        <input type=\"password\" name=\"password\" value={inputLogin.password} onChange={handleInput}  className=\"form-control\" />\n                                        <span className=\"text-danger\">{inputLogin.error_list.password}</span>\n                                    </div>\n                                    <div className=\"d-flex box-btn\">\n                                        <div className=\"form-check m-3\">\n                                            <input className=\"form-check-input\" name=\"remember\" type=\"checkbox\" id=\"remember\"\n                                            onClick={handleRemember} />\n                                            <label className=\"form-check-label\" htmlFor=\"remember\" >\n                                                Lưu đăng nhập\n                                            </label>\n                                            </div>\n                                        <button className=\"btn btn-primary m-3 btn-login\">Đăng nhập</button>\n                                    </div>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}