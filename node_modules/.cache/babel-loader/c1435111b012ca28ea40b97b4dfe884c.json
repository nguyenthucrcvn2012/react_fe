{"ast":null,"code":"import _defineProperty from\"C:/Users/nguye/OneDrive/Desktop/react_fe/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/nguye/OneDrive/Desktop/react_fe/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/nguye/OneDrive/Desktop/react_fe/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useRef,useEffect}from'react';import{Modal,Button,Tooltip}from\"react-bootstrap\";import Footer from\"./../../layouts/admin/Footer\";import Navbar from\"./../../layouts/admin/Navbar\";import Sidebar from\"./../../layouts/admin/Sidebar\";import Navigation from'../../layouts/admin/Navigation';import Loading from'../../layouts/admin/Loading';import axios from'axios';// import moment from 'moment';\nimport Swal from\"sweetalert2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Product(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),loading=_useState2[0],setLoading=_useState2[1];// loading\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),products=_useState4[0],setProducts=_useState4[1];// Products\nvar _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),pagination=_useState6[0],setPagination=_useState6[1];// Phân trang\nvar _useState7=useState('Thêm mới sản phẩm'),_useState8=_slicedToArray(_useState7,2),titleForm=_useState8[0],setTitleForm=_useState8[1];//Tiêu đề form\nvar _useState9=useState(true),_useState10=_slicedToArray(_useState9,2),isResearch=_useState10[0],setIsResearch=_useState10[1];// kiểm tra data có phải đã được tìm kiếm hay không\nvar _useState11=useState(),_useState12=_slicedToArray(_useState11,2),productImage=_useState12[0],setProductImage=_useState12[1];var _useState13=useState({product_name:'',is_sales:'',price_to:'',price_from:''}),_useState14=_slicedToArray(_useState13,2),inputSearch=_useState14[0],setInputSearch=_useState14[1];//Form search\nvar _useState15=useState({product_id:'',product_name:'',product_image:'',product_price:'',description:'',is_sales:'',error_list:[]}),_useState16=_slicedToArray(_useState15,2),product=_useState16[0],setProduct=_useState16[1];//Tìm kiếm\nvar handleInputSearch=function handleInputSearch(e){setInputSearch(_objectSpread(_objectSpread({},inputSearch),{},_defineProperty({},e.target.name,e.target.value)));console.log(inputSearch);};var submitSearch=function submitSearch(e){e.preventDefault();filterData();console.log(inputSearch);};var handleKeyDown=function handleKeyDown(e){if(e.key==='Enter'){e.preventDefault();filterData();console.log(inputSearch);}};var handleInput=function handleInput(e){setProduct(_objectSpread(_objectSpread({},product),{},_defineProperty({},e.target.name,e.target.value)));console.log(product);};var formatPrice=function formatPrice(price){return new Intl.NumberFormat('vi-VN',{style:'currency',currency:'VND'}).format(price);};//Xóa tìm kiếm\nvar handleDeleteSearch=function handleDeleteSearch(){setIsResearch(false);setInputSearch({product_name:'',is_sales:'',price_to:'',price_from:''});document.getElementById(\"SEARCH-FORM\").reset();reloadPage(numPage);};//Tìm kiếm\nvar filterData=function filterData(){setIsResearch(true);loadPage(1);};//Hình mặc định\nvar noimg=require('../../assets/images/noimage.png');var _useState17=useState(noimg),_useState18=_slicedToArray(_useState17,2),imgData=_useState18[0],setImgData=_useState18[1];//chọn hình sp khi ấn vào hình hiện tại\nvar inputFileRef=useRef(null);var chooseImage=function chooseImage(){inputFileRef.current.click();};var onChangePicture=function onChangePicture(e){if(e.target.files[0]){var reader=new FileReader();reader.addEventListener(\"load\",function(){setImgData(reader.result);});reader.readAsDataURL(e.target.files[0]);}};//Hình ảnh sp\nvar handleImage=function handleImage(e){setProductImage(e.target.files[0]);onChangePicture(e);};//Xóa hình ảnh\nvar removeImage=function removeImage(){setImgData(noimg);setProductImage();};//Đóng modal\nvar _useState19=useState(false),_useState20=_slicedToArray(_useState19,2),show=_useState20[0],setShow=_useState20[1];var handleClose=function handleClose(){resetInput();setShow(false);};//Mở modal\nvar handleShow=function handleShow(id){if(id){axios.get(\"/api/products/\".concat(id)).then(function(res){if(res.data.status===200){setTitleForm('Chỉnh sửa sản phẩm');setProduct({product_id:res.data.product.product_id,product_name:res.data.product.product_name,product_image:'',product_price:res.data.product.product_price,description:res.data.product.description===null?'':res.data.product.description,is_sales:res.data.product.is_sales,error_list:[]});if(res.data.product.product_image!==null){setImgData(res.data.product.product_image);}setShow(true);}else if(res.data.status===404){Swal.fire('Lỗi',res.data.message,'warning');loadPage(numPage);}});}else{resetInput();setTitleForm('Thêm mới sản phẩm');setShow(true);}};// RESET DATA\nvar resetInput=function resetInput(){setProduct({product_id:'',product_name:'',product_price:'',product_image:'',description:'',is_sales:'',error_list:[]});removeImage();// document.getElementById('USER_FORM').reset()\n};//RENDER\nvar tableHTML=\"\";if(loading){tableHTML=/*#__PURE__*/_jsx(\"td\",{colSpan:6,children:/*#__PURE__*/_jsx(Loading,{})});}else if(products.length>0){var numberProduct=pagination.current_page*10;tableHTML=products===null||products===void 0?void 0:products.map(function(pro,idx){var numPro=idx+1+numberProduct-10;return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:numPro}),/*#__PURE__*/_jsx(\"td\",{children:pro.product_id}),/*#__PURE__*/_jsxs(\"td\",{className:\"td-product-name\",children:[pro.product_name,/*#__PURE__*/_jsx(\"img\",{className:\"display-image-product\",src:pro.product_image,alt:\"\"})]}),/*#__PURE__*/_jsx(\"td\",{children:pro.description}),/*#__PURE__*/_jsx(\"td\",{children:formatPrice(pro.product_price)}),/*#__PURE__*/_jsx(\"td\",{children:pro.is_sales===1?/*#__PURE__*/_jsx(\"span\",{className:\"text-success\",children:\"\\u0110ang b\\xE1n\"}):/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"Ng\\u1EEBng b\\xE1n\"})}),/*#__PURE__*/_jsxs(\"td\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"icon_btn\",onClick:function onClick(){return handleShow(pro.product_id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-pencil\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"icon_btn\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-trash\",onClick:function onClick(e){return deleteHandler(e,pro.product_id,pro.product_name);}})})]})]},idx);});}else{tableHTML=/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:7,children:\"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u\"}),\" \"]});}//Cập nhật sản phẩm\nvar submitUpdateProduct=function submitUpdateProduct(e){e.preventDefault();var formData=new FormData();formData.append('product_name',product.product_name);formData.append('product_price',product.product_price);formData.append('description',product.description);formData.append('is_sales',product.is_sales);formData.append('product_image',productImage);axios.post(\"/api/products/\".concat(product.product_id,\"/update\"),formData).then(function(res){if(res.data.status===200){console.log(res.data);Swal.fire('Cập nhật sản phẩm',res.data.message,'success');loadPage(numPage);setShow(false);resetInput();setProduct({product_id:'',product_name:'',product_image:'',product_price:'',description:'',is_sales:'',error_list:[]});}else if(res.data.status===500||res.data.status===404){Swal.fire('Cập nhật sản phẩm',res.data.message,'error');setShow(false);resetInput();loadPage(numPage);}else{setProduct(_objectSpread(_objectSpread({},product),{},{error_list:res.data.validation_errors}));}});};//Lưu mới sản phẩm\nvar submitStoreProduct=function submitStoreProduct(e){e.preventDefault();var formData=new FormData();formData.append('product_name',product.product_name);formData.append('product_price',product.product_price);formData.append('description',product.description);formData.append('is_sales',product.is_sales);formData.append('product_image',productImage);console.log(formData);axios.post(\"/api/products/store\",formData).then(function(res){if(res.data.status===200){Swal.fire('Thêm mới',res.data.message,'success');loadPage(numPage);setShow(false);resetInput();}else if(res.data.status===401){Swal.fire('Thêm mới',res.data.message,'success');loadPage(numPage);}else{setProduct(_objectSpread(_objectSpread({},product),{},{error_list:res.data.validation_errors}));}});};// Xử lí phân trang\nvar numPage;// Số trang hiện tại\nvar callBackChildren=function callBackChildren(num){numPage=num;console.log(numPage);loadPage(numPage);};//Hàm call api lấy danh sách sp\nvar loadPage=function loadPage(numPage){if(!isResearch){reloadPage(numPage);}else{research(numPage);}};var reloadPage=function reloadPage(numPage){setLoading(true);axios.get(\"/api/products?page=\".concat(numPage)).then(function(res){if(res.data.status===200){console.log(res.data);setProducts(res.data.products.data);setPagination({current_page:res.data.products.current_page,last_page:res.data.products.last_page,to:res.data.products.to,total:res.data.products.total,from:res.data.products.from});setLoading(false);}else{Swal.fire('Tìm kiếm',res.data.message,'warning');setLoading(false);}});};//call api filter\nvar research=function research(numPage){var formData=new FormData();formData.append('product_name',inputSearch.product_name);formData.append('is_sales',inputSearch.is_sales);formData.append('price_to',inputSearch.price_to);formData.append('price_from',inputSearch.price_from);setLoading(true);axios.post(\"api/products/search?page=\".concat(numPage),formData).then(function(res){if(res.data.status===200){console.log(res.data);setProducts(res.data.products.data);setPagination({current_page:res.data.products.current_page,last_page:res.data.products.last_page,to:res.data.products.to,total:res.data.products.total,from:res.data.products.from});setLoading(false);}else{Swal.fire('Tìm kiếm',res.data.message,'warning');setLoading(false);}});};//Xóa sản phẩm\nvar deleteHandler=function deleteHandler(e,id,name){Swal.fire({title:'Xác nhận xóa',text:\"B\\u1EA1n c\\xF3 ch\\u1EAFc ch\\u1EAFn x\\xF3a s\\u1EA3n ph\\u1EA9m \\\"\".concat(name,\"\\\" kh\\xF4ng?\"),icon:'warning',showCancelButton:true,confirmButtonColor:'#3085d6',cancelButtonColor:'#d33',confirmButtonText:'Xác nhận!',cancelButtonText:'Hủy'}).then(function(result){if(result.isConfirmed){axios.post(\"api/products/\".concat(id,\"/delete\")).then(function(res){if(res.data.status===200){Swal.fire('Xóa!',res.data.message,'success');loadPage(numPage);}else if(res.data.status===404||res.data.status===500){loadPage(numPage);Swal.fire('Xóa!',res.data.message,'error');}});}});};//call api sau khi load trang\nuseEffect(function(){loadPage(numPage);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"sb-nav-fixed\",children:[/*#__PURE__*/_jsxs(Modal,{size:\"lg\",show:show,onHide:handleClose,children:[/*#__PURE__*/_jsx(Modal.Header,{closeButton:true,children:/*#__PURE__*/_jsx(Modal.Title,{children:titleForm})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"form\",{className:\"form-product\",encType:\"multipart/form-data\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-7\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-100\",children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",children:[\"T\\xEAn s\\u1EA3n ph\\u1EA9m \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"product_name\",value:product.product_name,onChange:handleInput,className:\"form-control\",placeholder:\"Nh\\u1EADp t\\xEAn s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-alert\",children:product.error_list.product_name})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{scope:\"row\",children:[\"Gi\\xE1 b\\xE1n \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"product_price\",value:product.product_price,onChange:handleInput,className:\"form-control\",min:\"0\",placeholder:\"Nh\\u1EADp gi\\xE1 b\\xE1n\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-alert\",children:product.error_list.product_price})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{scope:\"row\",children:\"M\\xF4 t\\u1EA3\"}),/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",children:[/*#__PURE__*/_jsx(\"textarea\",{rows:\"6\",name:\"description\",value:product.description,onChange:handleInput,className:\"form-control\",placeholder:\"Nh\\u1EADp m\\xF4 t\\u1EA3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-alert\",children:product.error_list.description})]})]}),/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"th\",{scope:\"row\",children:[\"Tr\\u1EA1ng th\\xE1i \",/*#__PURE__*/_jsx(\"span\",{className:\"text-danger\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"th\",{scope:\"col\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",onChange:handleInput,name:\"is_sales\",\"aria-label\":\"Default select example\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Ch\\u1ECDn tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",selected:product.is_sales===1?'selected':'',children:\"\\u0110ang b\\xE1n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0\",selected:product.is_sales===0?'selected':'',children:\"Ng\\u1EEBng b\\xE1n\"})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-alert\",children:product.error_list.is_sales})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-5\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"H\\xECnh \\u1EA3nh\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",name:\"product_image\",onChange:handleImage,className:\"mb-3\",ref:inputFileRef}),/*#__PURE__*/_jsx(\"div\",{className:\"image-review\",id:\"REVIEW-IMAGE\",children:/*#__PURE__*/_jsx(\"img\",{onClick:chooseImage,src:imgData,alt:\"\"})}),/*#__PURE__*/_jsx(\"span\",{className:\"text-alert\",children:product.error_list.product_image}),/*#__PURE__*/_jsxs(\"div\",{className:\"box-upload-image mt-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"btn-upload btn-primary\",children:\"Upload\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn-remove btn-danger\",onClick:removeImage,children:\"X\\xF3a file\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"T\\xEAn file\",disabled:true})]})]})]}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleClose,children:\"\\u0110\\xF3ng\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:product.product_id!==''?submitUpdateProduct:submitStoreProduct,children:\"L\\u01B0u\"})]})]})})]}),/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{id:\"layoutSidenav\",children:[/*#__PURE__*/_jsx(Sidebar,{}),/*#__PURE__*/_jsxs(\"div\",{id:\"layoutSidenav_content\",children:[/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid px-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card mb-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-header\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-table me-1\"}),\"Danh s\\xE1ch s\\u1EA3n ph\\u1EA9m\"]}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn-primary btn btn-search  m-1\",onClick:function onClick(){return handleShow();},children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-plus\"}),\" Th\\xEAm m\\u1EDBi\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-body\",children:[/*#__PURE__*/_jsx(\"form\",{action:\"\",id:\"SEARCH-FORM\",children:/*#__PURE__*/_jsx(\"div\",{className:\"box-search mt-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row p-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3 mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"T\\xEAn s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"product_name\",className:\"form-control\",value:inputSearch.product_name,onChange:handleInputSearch,placeholder:\"Nh\\u1EADp t\\xEAn s\\u1EA3n ph\\u1EA9m\",onKeyPress:handleKeyDown})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3  mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"status\",children:\"Tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",name:\"is_sales\",onChange:handleInputSearch,\"aria-label\":\"Default select example\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Ch\\u1ECDn tr\\u1EA1ng th\\xE1i\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"\\u0110ang b\\xE1n\"}),/*#__PURE__*/_jsx(\"option\",{value:\"0\",children:\"Ng\\u1EEBng b\\xE1n\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3 col-6 mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price_from\",children:\"Gi\\xE1 b\\xE1n t\\u1EEB\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",onChange:handleInputSearch,onKeyPress:handleKeyDown,value:inputSearch.price_from,className:\"form-control\",name:\"price_from\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-3 col-6 mb-1\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"price_to\",children:\"Gi\\xE1 b\\xE1n \\u0111\\u1EBFn\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",onChange:handleInputSearch,onKeyPress:handleKeyDown,value:inputSearch.price_to,className:\"form-control\",name:\"price_to\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-12 col-12 mb-1 box-btn-search mt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-primary btn-search  m-1\",onClick:submitSearch,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-magnifying-glass\"})}),\"\\xA0\",/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-danger btn-search  m-1\",onClick:handleDeleteSearch,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fa-solid fa-x\"}),\" X\\xF3a t\\xECm\"]}),\"\\xA0\"]})]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"table-responsive\",children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"M\\xE3 s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\xEAn s\\u1EA3n ph\\u1EA9m\"}),/*#__PURE__*/_jsx(\"th\",{children:\"M\\xF4 t\\u1EA3\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Gi\\xE1\"}),/*#__PURE__*/_jsx(\"th\",{children:\"T\\xECnh tr\\u1EA1ng\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Thao t\\xE1c\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:tableHTML?tableHTML:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{colSpan:6,children:\"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u\"}),\" \"]})})]}),/*#__PURE__*/_jsx(Navigation,{Paginate:pagination,childToParent:callBackChildren})]})]})]})})}),/*#__PURE__*/_jsx(Footer,{})]})]})]});}export default Product;","map":{"version":3,"sources":["C:/Users/nguye/OneDrive/Desktop/react_fe/src/components/admin/Products.js"],"names":["React","useState","useRef","useEffect","Modal","Button","Tooltip","Footer","Navbar","Sidebar","Navigation","Loading","axios","Swal","Product","loading","setLoading","products","setProducts","pagination","setPagination","titleForm","setTitleForm","isResearch","setIsResearch","productImage","setProductImage","product_name","is_sales","price_to","price_from","inputSearch","setInputSearch","product_id","product_image","product_price","description","error_list","product","setProduct","handleInputSearch","e","target","name","value","console","log","submitSearch","preventDefault","filterData","handleKeyDown","key","handleInput","formatPrice","price","Intl","NumberFormat","style","currency","format","handleDeleteSearch","document","getElementById","reset","reloadPage","numPage","loadPage","noimg","require","imgData","setImgData","inputFileRef","chooseImage","current","click","onChangePicture","files","reader","FileReader","addEventListener","result","readAsDataURL","handleImage","removeImage","show","setShow","handleClose","resetInput","handleShow","id","get","then","res","data","status","fire","message","tableHTML","length","numberProduct","current_page","map","pro","idx","numPro","deleteHandler","submitUpdateProduct","formData","FormData","append","post","validation_errors","submitStoreProduct","callBackChildren","num","research","last_page","to","total","from","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","cancelButtonText","isConfirmed"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useEffect } from 'react'\nimport { Modal, Button, Tooltip } from \"react-bootstrap\";\n\nimport Footer from \"./../../layouts/admin/Footer\";\nimport Navbar from \"./../../layouts/admin/Navbar\";\nimport Sidebar from \"./../../layouts/admin/Sidebar\";\nimport Navigation from '../../layouts/admin/Navigation';\nimport Loading from '../../layouts/admin/Loading';\nimport axios from 'axios';\n// import moment from 'moment';\nimport Swal from \"sweetalert2\";\n\nfunction Product() {\n\n    const [loading, setLoading] = useState(true); // loading\n    const [products, setProducts] = useState([]); // Products\n    const [pagination, setPagination] = useState({});// Phân trang\n    const [titleForm, setTitleForm] = useState('Thêm mới sản phẩm') //Tiêu đề form\n    const [isResearch, setIsResearch] = useState(true) // kiểm tra data có phải đã được tìm kiếm hay không\n    const [productImage, setProductImage] = useState()\n    const [inputSearch, setInputSearch] = useState({\n        product_name: '',\n        is_sales: '',\n        price_to: '',\n        price_from: ''\n    }) //Form search\n\n    const [product, setProduct] = useState({\n        product_id: '',\n        product_name: '',\n        product_image: '',\n        product_price: '',\n        description: '',\n        is_sales: '',\n        error_list: []\n    });\n\n\n    //Tìm kiếm\n    const handleInputSearch = (e) => {\n        setInputSearch({ ...inputSearch, [e.target.name]: e.target.value })\n        console.log(inputSearch)\n    }\n    const submitSearch = (e) => {\n        e.preventDefault()\n        filterData()\n        console.log(inputSearch)\n    }\n    const handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n            e.preventDefault()\n            filterData()\n            console.log(inputSearch)\n        }\n    }\n    const handleInput = (e) => {\n        setProduct({ ...product, [e.target.name]: e.target.value })\n        console.log(product)\n    }\n    const formatPrice = (price) => {\n        return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(price);\n    }\n    //Xóa tìm kiếm\n    const handleDeleteSearch = () => {\n        setIsResearch(false)\n        setInputSearch({\n            product_name: '',\n            is_sales: '',\n            price_to: '',\n            price_from: ''\n        })\n        document.getElementById(\"SEARCH-FORM\").reset();\n        reloadPage(numPage)\n    }\n    //Tìm kiếm\n    const filterData = () => {\n\n        setIsResearch(true)\n        loadPage(1)\n    }\n    //Hình mặc định\n    var noimg = require('../../assets/images/noimage.png')\n    const [imgData, setImgData] = useState(noimg);\n    //chọn hình sp khi ấn vào hình hiện tại\n    const inputFileRef = useRef(null);\n    const chooseImage = () => {\n        inputFileRef.current.click();\n    }\n    const onChangePicture = (e) => {\n        if (e.target.files[0]) {\n            const reader = new FileReader();\n            reader.addEventListener(\"load\", () => {\n                setImgData(reader.result);\n            });\n            reader.readAsDataURL(e.target.files[0]);\n        }\n    };\n    //Hình ảnh sp\n    const handleImage = (e) => {\n        setProductImage(e.target.files[0])\n        onChangePicture(e)\n    }\n    //Xóa hình ảnh\n    const removeImage = () => {\n        setImgData(noimg)\n        setProductImage()\n    }\n    //Đóng modal\n    const [show, setShow] = useState(false);\n    const handleClose = () => {\n        resetInput()\n        setShow(false)\n    };\n    //Mở modal\n    const handleShow = (id) => {\n        if (id) {\n            axios.get(`/api/products/${id}`).then(res => {\n                if (res.data.status === 200) {\n                    setTitleForm('Chỉnh sửa sản phẩm')\n\n                    setProduct({\n                        product_id: res.data.product.product_id,\n                        product_name: res.data.product.product_name,\n                        product_image: '',\n                        product_price: res.data.product.product_price,\n                        description: res.data.product.description === null ? '' : res.data.product.description,\n                        is_sales: res.data.product.is_sales,\n                        error_list: []\n                    })\n                    if(res.data.product.product_image !== null) {\n                        setImgData(res.data.product.product_image);\n                    }\n                    setShow(true)\n                }\n                else if (res.data.status === 404) {\n                    Swal.fire('Lỗi', res.data.message, 'warning')\n                    loadPage(numPage)\n                }\n            });\n        }\n        else {\n            resetInput()\n            setTitleForm('Thêm mới sản phẩm')\n            setShow(true)\n        }\n    }\n    // RESET DATA\n    const resetInput = () => {\n        setProduct({\n            product_id: '',\n            product_name: '',\n            product_price: '',\n            product_image: '',\n            description: '',\n            is_sales: '',\n            error_list: []\n        })\n        removeImage()\n        // document.getElementById('USER_FORM').reset()\n    }\n\n    //RENDER\n    var tableHTML = \"\"\n    if (loading) {\n        tableHTML = (\n            <td colSpan={6}>\n                <Loading />\n            </td>\n        )\n    }\n    else if (products.length > 0) {\n        let numberProduct = pagination.current_page * 10;\n        tableHTML = products?.map((pro, idx) => {\n            let numPro = idx + 1 + numberProduct - 10;\n            return (\n                <tr key={idx}>\n                    <td>{numPro}</td>\n                    <td >{pro.product_id}</td>\n                    <td className='td-product-name'>\n                        {pro.product_name}\n                        <img className='display-image-product' src={pro.product_image} alt=\"\" />\n                    </td>\n                    <td>{pro.description}</td>\n                    <td>{formatPrice(pro.product_price)}</td>\n                    {/* <td>{moment(pro.created_at).format('YYYY MM DD')}</td> */}\n                    <td>\n                        {pro.is_sales === 1 ?\n                            <span className='text-success'>Đang bán</span> :\n                            <span className='text-danger'>Ngừng bán</span>\n                        }\n                    </td>\n                    <td className=\"text-center\">\n                        <span className='icon_btn' onClick={() => handleShow(pro.product_id)}>\n                            <i className=\"fa-solid fa-pencil\"></i>\n                        </span>\n                        <span className='icon_btn'>\n                            <i className=\"fa-solid fa-trash\" onClick={(e) => deleteHandler(e, pro.product_id, pro.product_name)} ></i>\n                        </span>\n                    </td>\n                </tr>\n            );\n        })\n    }\n    else {\n        tableHTML = (\n            <tr ><td colSpan={7}>Không có dữ liệu</td> </tr>\n        )\n    }\n\n    //Cập nhật sản phẩm\n    const submitUpdateProduct = (e) => {\n        e.preventDefault();\n\n        const formData = new FormData();\n        formData.append('product_name', product.product_name);\n        formData.append('product_price', product.product_price);\n        formData.append('description', product.description);\n        formData.append('is_sales', product.is_sales);\n        formData.append('product_image', productImage);\n\n        axios.post(`/api/products/${product.product_id}/update`, formData).then(res => {\n            if (res.data.status === 200) {\n                console.log(res.data)\n                Swal.fire('Cập nhật sản phẩm', res.data.message, 'success')\n                loadPage(numPage)\n                setShow(false)\n                resetInput()\n                setProduct({\n                    product_id: '',\n                    product_name: '',\n                    product_image: '',\n                    product_price: '',\n                    description: '',\n                    is_sales: '',\n                    error_list: []\n                })\n            }\n            else if (res.data.status === 500 || res.data.status === 404) {\n                Swal.fire('Cập nhật sản phẩm', res.data.message, 'error')\n                setShow(false)\n                resetInput()\n                loadPage(numPage)\n            }\n            else {\n\n                setProduct({ ...product, error_list: res.data.validation_errors })\n            }\n        });\n    }\n\n    //Lưu mới sản phẩm\n    const submitStoreProduct = (e) => {\n        e.preventDefault()\n\n        const formData = new FormData();\n        formData.append('product_name', product.product_name);\n        formData.append('product_price', product.product_price);\n        formData.append('description', product.description);\n        formData.append('is_sales', product.is_sales);\n        formData.append('product_image', productImage);\n\n        console.log(formData)\n\n        axios.post(`/api/products/store`, formData).then(res => {\n            if (res.data.status === 200) {\n\n                Swal.fire('Thêm mới', res.data.message, 'success')\n\n                loadPage(numPage)\n                setShow(false)\n                resetInput()\n            }\n            else if (res.data.status === 401) {\n\n                Swal.fire('Thêm mới', res.data.message, 'success')\n                loadPage(numPage)\n            }\n            else {\n\n                setProduct({ ...product, error_list: res.data.validation_errors })\n            }\n        });\n    }\n\n    // Xử lí phân trang\n    var numPage; // Số trang hiện tại\n    const callBackChildren = (num) => {\n\n        numPage = num\n        console.log(numPage)\n        loadPage(numPage)\n    }\n\n    //Hàm call api lấy danh sách sp\n    const loadPage = (numPage) => {\n\n        if (!isResearch) {\n\n            reloadPage(numPage)\n        }\n        else {\n            \n            research(numPage)\n        }\n    }\n\n    const reloadPage = (numPage) => {\n        setLoading(true);\n        axios.get(`/api/products?page=${numPage}`).then(res => {\n            if (res.data.status === 200) {\n                console.log(res.data)\n                setProducts(res.data.products.data)\n                setPagination({\n                    current_page: res.data.products.current_page,\n                    last_page: res.data.products.last_page,\n                    to: res.data.products.to,\n                    total: res.data.products.total,\n                    from: res.data.products.from\n                })\n                setLoading(false);\n            }\n            else {\n                Swal.fire('Tìm kiếm', res.data.message, 'warning')\n                setLoading(false);\n            }\n        });\n    }\n\n    //call api filter\n    const research = (numPage) => {\n\n        const formData = new FormData();\n        formData.append('product_name', inputSearch.product_name);\n        formData.append('is_sales', inputSearch.is_sales);\n        formData.append('price_to', inputSearch.price_to);\n        formData.append('price_from', inputSearch.price_from);\n\n        setLoading(true);\n        axios.post(`api/products/search?page=${numPage}`, formData).then(res => {\n            if (res.data.status === 200) {\n                console.log(res.data)\n                setProducts(res.data.products.data)\n                setPagination({\n                    current_page: res.data.products.current_page,\n                    last_page: res.data.products.last_page,\n                    to: res.data.products.to,\n                    total: res.data.products.total,\n                    from: res.data.products.from\n                })\n                setLoading(false);\n            }\n            else {\n                Swal.fire('Tìm kiếm', res.data.message, 'warning')\n                setLoading(false);\n            }\n        });\n    }\n\n    //Xóa sản phẩm\n    const deleteHandler = (e, id, name) => {\n        Swal.fire({\n            title: 'Xác nhận xóa',\n            text: `Bạn có chắc chắn xóa sản phẩm \"${name}\" không?`,\n            icon: 'warning',\n            showCancelButton: true,\n            confirmButtonColor: '#3085d6',\n            cancelButtonColor: '#d33',\n            confirmButtonText: 'Xác nhận!',\n            cancelButtonText: 'Hủy'\n        }).then((result) => {\n            if (result.isConfirmed) {\n\n                axios.post(`api/products/${id}/delete`).then(res => {\n                    if (res.data.status === 200) {\n                        Swal.fire('Xóa!', res.data.message, 'success')\n                        loadPage(numPage)\n                    }\n                    else if (res.data.status === 404 || res.data.status === 500) {\n                        loadPage(numPage)\n                        Swal.fire('Xóa!', res.data.message, 'error')\n                    }\n                });\n\n            }\n        })\n    }\n\n    //call api sau khi load trang\n    useEffect(() => {\n        loadPage(numPage);\n\n    }, []);\n\n    return (\n        <div className=\"sb-nav-fixed\">\n            <Modal size=\"lg\" show={show} onHide={handleClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>{titleForm}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <form className=\"form-product\" encType=\"multipart/form-data\">\n                        <div className=\"row\">\n                            <div className=\"col-md-7\">\n                                <table className=\"w-100\">\n                                    <tr>\n                                        <th scope=\"col\">Tên sản phẩm <span className='text-danger'>*</span></th>\n                                        <th scope=\"col\">\n                                            <input type=\"text\" name=\"product_name\" value={product.product_name} onChange={handleInput}\n                                                className=\"form-control\" placeholder=\"Nhập tên sản phẩm\" />\n                                            <span className=\"text-alert\">{product.error_list.product_name}</span>\n                                        </th>\n                                    </tr>\n                                    <tr>\n                                        <th scope=\"row\">Giá bán <span className='text-danger'>*</span></th>\n                                        <th scope=\"col\">\n                                            <input type=\"number\" name=\"product_price\" value={product.product_price} onChange={handleInput}\n                                                className=\"form-control\" min=\"0\" placeholder=\"Nhập giá bán\" />\n                                            <span className=\"text-alert\">{product.error_list.product_price}</span>\n                                        </th>\n                                    </tr>\n                                    <tr>\n                                        <th scope=\"row\">Mô tả</th>\n                                        <th scope=\"col\">\n                                            <textarea rows=\"6\" name=\"description\" value={product.description} onChange={handleInput}\n                                                className=\"form-control\" placeholder=\"Nhập mô tả\" />\n                                            <span className=\"text-alert\">{product.error_list.description}</span>\n                                        </th>\n                                    </tr>\n                                    <tr>\n                                        <th scope=\"row\">Trạng thái <span className='text-danger'>*</span></th>\n                                        <th scope=\"col\">\n                                            <select className=\"form-select\" onChange={handleInput} name=\"is_sales\"\n                                                aria-label=\"Default select example\">\n                                                <option value=\"\" >Chọn trạng thái</option>\n                                                <option value=\"1\" selected={product.is_sales === 1 ? 'selected' : ''}>Đang bán</option>\n                                                <option value=\"0\" selected={product.is_sales === 0 ? 'selected' : ''}>Ngừng bán</option>\n                                            </select>\n                                            <span className=\"text-alert\">{product.error_list.is_sales}</span>\n                                        </th>\n                                    </tr>\n                                </table>\n                            </div>\n                            <div className=\"col-md-5\">\n                                <h5>Hình ảnh</h5>\n                                <input type=\"file\" accept=\"image/*\" name=\"product_image\" onChange={handleImage} className=\"mb-3\" ref={inputFileRef} />\n                                <div className=\"image-review\" id=\"REVIEW-IMAGE\">\n                                    <img onClick={chooseImage} src={imgData} alt=\"\" />\n                                </div>\n                                <span className=\"text-alert\">{product.error_list.product_image}</span>\n\n                                <div className=\"box-upload-image mt-3\">\n                                    <button className='btn-upload btn-primary'>Upload</button>\n                                    <button className='btn-remove btn-danger' onClick={removeImage}>Xóa file</button>\n                                    <input type=\"text\" placeholder='Tên file' disabled />\n                                </div>\n                            </div>\n                        </div>\n                        <Modal.Footer>\n                            <Button variant=\"secondary\" onClick={handleClose}>\n                                Đóng\n                            </Button>\n                            <Button variant=\"primary\" onClick={product.product_id !== '' ? submitUpdateProduct : submitStoreProduct} >\n                                Lưu\n                            </Button>\n                        </Modal.Footer>\n                    </form>\n                </Modal.Body>\n\n            </Modal>\n\n            <Navbar />\n\n            <div id=\"layoutSidenav\">\n\n                <Sidebar />\n\n                <div id=\"layoutSidenav_content\">\n                    <main>\n                        <div className=\"container-fluid px-4\">\n\n                            <div className=\"card mb-4 mt-4\">\n\n                                <div className=\"card-header\">\n                                    <span>\n                                        <i className=\"fas fa-table me-1\"></i>\n                                        Danh sách sản phẩm\n                                    </span>\n                                    <button className=\"btn-primary btn btn-search  m-1\" onClick={() => handleShow()}><i className=\"fa-solid fa-plus\"></i> Thêm mới</button>\n                                </div>\n                                <div className=\"card-body\">\n\n                                    <form action=\"\" id=\"SEARCH-FORM\">\n\n                                        <div className=\"box-search mt-1\">\n                                            <div className=\"row p-3\">\n                                                <div className=\"col-md-3 mb-1\">\n                                                    <label htmlFor=\"name\">Tên sản phẩm</label>\n                                                    <input type=\"text\" name=\"product_name\" className=\"form-control\"\n                                                        value={inputSearch.product_name} onChange={handleInputSearch}\n                                                        placeholder='Nhập tên sản phẩm' onKeyPress={handleKeyDown} />\n                                                </div>\n                                                <div className=\"col-md-3  mb-1\">\n                                                    <label htmlFor=\"status\">Trạng thái</label>\n                                                    <select className=\"form-select\" name=\"is_sales\" onChange={handleInputSearch} aria-label=\"Default select example\">\n                                                        <option value=\"\" >Chọn trạng thái</option>\n                                                        <option value=\"1\">Đang bán</option>\n                                                        <option value=\"0\">Ngừng bán</option>\n                                                    </select>\n                                                </div>\n                                                <div className=\"col-md-3 col-6 mb-1\">\n                                                    <label htmlFor=\"price_from\">Giá bán từ</label>\n                                                    <input type=\"number\" min=\"0\" onChange={handleInputSearch} onKeyPress={handleKeyDown} value={inputSearch.price_from} className=\"form-control\" name=\"price_from\" />\n                                                </div>\n                                                <div className=\"col-md-3 col-6 mb-1\">\n                                                    <label htmlFor=\"price_to\">Giá bán đến</label>\n                                                    <input type=\"number\" min=\"0\" onChange={handleInputSearch} onKeyPress={handleKeyDown} value={inputSearch.price_to} className=\"form-control\" name=\"price_to\" />\n                                                </div>\n                                                <div className=\"col-md-12 col-12 mb-1 box-btn-search mt-4\">\n                                                    <button type=\"button\" className=\"btn btn-primary btn-search  m-1\" onClick={submitSearch}><i className=\"fa-solid fa-magnifying-glass\"></i></button>\n                                                    &nbsp;\n                                                    <button type=\"button\" className=\"btn btn-danger btn-search  m-1\" onClick={handleDeleteSearch}><i className=\"fa-solid fa-x\"></i> Xóa tìm</button>\n                                                    &nbsp;\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </form>\n                                    <div className=\"table-responsive\">\n                                        <table className=\"table\">\n                                            <thead>\n                                                <tr>\n                                                    <th>#</th>\n                                                    <th>Mã sản phẩm</th>\n                                                    <th>Tên sản phẩm</th>\n                                                    <th>Mô tả</th>\n                                                    <th>Giá</th>\n                                                    <th>Tình trạng</th>\n                                                    <th className=\"text-center\">Thao tác</th>\n                                                </tr>\n                                            </thead>\n                                            <tbody>\n                                                {\n                                                    tableHTML ? tableHTML : <tr ><td colSpan={6}>Không có dữ liệu</td> </tr>\n                                                }\n                                            </tbody>\n                                        </table>\n                                        <Navigation Paginate={pagination} childToParent={callBackChildren} />\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n                    </main>\n                    <Footer />\n                </div>\n            </div>\n\n        </div>\n    );\n}\n\nexport default Product;"]},"metadata":{},"sourceType":"module"}